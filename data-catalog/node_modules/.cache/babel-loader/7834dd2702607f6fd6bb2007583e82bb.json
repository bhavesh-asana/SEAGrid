{"ast":null,"code":"import _defineProperty from \"/Users/bhavesh/Developer/airavata-sandbox/gsoc2022/smilesdb/data-catalog/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport CustosService from \"../index\";\nexport default class CustosServiceEntitiesSecretsSSH {\n  /**\n   * @type {CustosService}\n   */\n\n  constructor(custosService) {\n    _defineProperty(this, \"_custosService\", null);\n    this._custosService = custosService;\n  }\n  get custosService() {\n    return this._custosService;\n  }\n  async createSecret({\n    clientId,\n    description,\n    ownerId\n  }) {\n    const axiosInstance = await this.custosService.getAxiosInstanceWithClientAuthorization({\n      clientId\n    });\n    const {\n      data: {\n        token\n      }\n    } = await axiosInstance.post(`${CustosService.ENDPOINTS.SECRETS}/secret/ssh`, {\n      \"metadata\": {\n        \"client_id\": clientId,\n        \"description\": description,\n        \"owner_id\": ownerId\n      }\n    });\n    const entityId = token;\n    return entityId;\n  }\n  async getSecret({\n    clientId,\n    entityId\n  }) {\n    const axiosInstance = await this.custosService.getAxiosInstanceWithClientAuthorization({\n      clientId\n    });\n    const {\n      data\n    } = await axiosInstance.get(`${CustosService.ENDPOINTS.SECRETS}/secret/ssh`, {\n      params: {\n        \"client_id\": clientId,\n        \"token\": entityId\n      }\n    });\n    return data;\n  }\n}","map":{"version":3,"names":["CustosService","CustosServiceEntitiesSecretsSSH","constructor","custosService","_custosService","createSecret","clientId","description","ownerId","axiosInstance","getAxiosInstanceWithClientAuthorization","data","token","post","ENDPOINTS","SECRETS","entityId","getSecret","get","params"],"sources":["/Users/bhavesh/Developer/airavata-sandbox/gsoc2022/smilesdb/data-catalog/node_modules/airavata-custos-portal/src/lib/service/custos-service/custos-service-entities/custos-service-entities-secrets-ssh.js"],"sourcesContent":["import CustosService from \"../index\";\n\nexport default class CustosServiceEntitiesSecretsSSH {\n    /**\n     * @type {CustosService}\n     */\n    _custosService = null;\n\n    constructor(custosService) {\n        this._custosService = custosService;\n    }\n\n    get custosService() {\n        return this._custosService;\n    }\n\n    async createSecret({clientId, description, ownerId}) {\n        const axiosInstance = await this.custosService.getAxiosInstanceWithClientAuthorization({clientId});\n        const {data: {token}} = await axiosInstance.post(\n            `${CustosService.ENDPOINTS.SECRETS}/secret/ssh`,\n            {\n                \"metadata\": {\n                    \"client_id\": clientId,\n                    \"description\": description,\n                    \"owner_id\": ownerId\n                }\n            }\n        );\n        const entityId = token;\n        return entityId;\n    }\n\n    async getSecret({clientId, entityId}) {\n        const axiosInstance = await this.custosService.getAxiosInstanceWithClientAuthorization({clientId});\n        const {data} = await axiosInstance.get(\n            `${CustosService.ENDPOINTS.SECRETS}/secret/ssh`,\n            {\n                params: {\n                    \"client_id\": clientId,\n                    \"token\": entityId\n                }\n            }\n        );\n\n        return data;\n    }\n}\n"],"mappings":";AAAA,OAAOA,aAAa,MAAM,UAAU;AAEpC,eAAe,MAAMC,+BAA+B,CAAC;EACjD;AACJ;AACA;;EAGIC,WAAW,CAACC,aAAa,EAAE;IAAA,wCAFV,IAAI;IAGjB,IAAI,CAACC,cAAc,GAAGD,aAAa;EACvC;EAEA,IAAIA,aAAa,GAAG;IAChB,OAAO,IAAI,CAACC,cAAc;EAC9B;EAEA,MAAMC,YAAY,CAAC;IAACC,QAAQ;IAAEC,WAAW;IAAEC;EAAO,CAAC,EAAE;IACjD,MAAMC,aAAa,GAAG,MAAM,IAAI,CAACN,aAAa,CAACO,uCAAuC,CAAC;MAACJ;IAAQ,CAAC,CAAC;IAClG,MAAM;MAACK,IAAI,EAAE;QAACC;MAAK;IAAC,CAAC,GAAG,MAAMH,aAAa,CAACI,IAAI,CAC3C,GAAEb,aAAa,CAACc,SAAS,CAACC,OAAQ,aAAY,EAC/C;MACI,UAAU,EAAE;QACR,WAAW,EAAET,QAAQ;QACrB,aAAa,EAAEC,WAAW;QAC1B,UAAU,EAAEC;MAChB;IACJ,CAAC,CACJ;IACD,MAAMQ,QAAQ,GAAGJ,KAAK;IACtB,OAAOI,QAAQ;EACnB;EAEA,MAAMC,SAAS,CAAC;IAACX,QAAQ;IAAEU;EAAQ,CAAC,EAAE;IAClC,MAAMP,aAAa,GAAG,MAAM,IAAI,CAACN,aAAa,CAACO,uCAAuC,CAAC;MAACJ;IAAQ,CAAC,CAAC;IAClG,MAAM;MAACK;IAAI,CAAC,GAAG,MAAMF,aAAa,CAACS,GAAG,CACjC,GAAElB,aAAa,CAACc,SAAS,CAACC,OAAQ,aAAY,EAC/C;MACII,MAAM,EAAE;QACJ,WAAW,EAAEb,QAAQ;QACrB,OAAO,EAAEU;MACb;IACJ,CAAC,CACJ;IAED,OAAOL,IAAI;EACf;AACJ"},"metadata":{},"sourceType":"module"}